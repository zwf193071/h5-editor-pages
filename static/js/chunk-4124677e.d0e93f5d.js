(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4124677e"],{"0166":function(t,e,n){},"0f7c":function(t,e,n){},"1ea1":function(t,e,n){},"1f9e":function(t,e,n){"use strict";var r=n("6b6b"),i=n.n(r);i.a},2293:function(t,e,n){},2625:function(t,e,n){"use strict";var r=n("2293"),i=n.n(r);i.a},"28a5":function(t,e,n){"use strict";var r=n("aae3"),i=n("cb7c"),a=n("ebd6"),o=n("0390"),c=n("9def"),s=n("5f1b"),l=n("520a"),u=n("79e5"),p=Math.min,f=[].push,d="split",v="length",h="lastIndex",m=4294967295,b=!u((function(){RegExp(m,"y")}));n("214f")("split",2,(function(t,e,n,u){var g;return g="c"=="abbc"[d](/(b)*/)[1]||4!="test"[d](/(?:)/,-1)[v]||2!="ab"[d](/(?:ab)*/)[v]||4!="."[d](/(.?)(.?)/)[v]||"."[d](/()()/)[v]>1||""[d](/.?/)[v]?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!r(t))return n.call(i,t,e);var a,o,c,s=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,d=void 0===e?m:e>>>0,b=new RegExp(t.source,u+"g");while(a=l.call(b,i)){if(o=b[h],o>p&&(s.push(i.slice(p,a.index)),a[v]>1&&a.index<i[v]&&f.apply(s,a.slice(1)),c=a[0][v],p=o,s[v]>=d))break;b[h]===a.index&&b[h]++}return p===i[v]?!c&&b.test("")||s.push(""):s.push(i.slice(p)),s[v]>d?s.slice(0,d):s}:"0"[d](void 0,0)[v]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,r){var i=t(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,i,r):g.call(String(i),n,r)},function(t,e){var r=u(g,t,this,e,g!==n);if(r.done)return r.value;var l=i(t),f=String(this),d=a(l,RegExp),v=l.unicode,h=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(b?"y":"g"),y=new d(b?l:"^(?:"+l.source+")",h),O=void 0===e?m:e>>>0;if(0===O)return[];if(0===f.length)return null===s(y,f)?[f]:[];var w=0,j=0,E=[];while(j<f.length){y.lastIndex=b?j:0;var P,x=s(y,b?f:f.slice(j));if(null===x||(P=p(c(y.lastIndex+(b?0:j)),f.length))===w)j=o(f,j,v);else{if(E.push(f.slice(w,j)),E.length===O)return E;for(var _=1;_<=x.length-1;_++)if(E.push(x[_]),E.length===O)return E;j=w=P}}return E.push(f.slice(w)),E}]}))},"2fdb":function(t,e,n){"use strict";var r=n("5ca1"),i=n("d2c8"),a="includes";r(r.P+r.F*n("5147")(a),"String",{includes:function(t){return!!~i(this,t,a).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},3228:function(t,e,n){},"336d":function(t,e,n){},"490f":function(t,e,n){},5147:function(t,e,n){var r=n("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(i){}}return!0}},"5dbc":function(t,e,n){var r=n("d3f4"),i=n("8b97").set;t.exports=function(t,e,n){var a,o=e.constructor;return o!==n&&"function"==typeof o&&(a=o.prototype)!==n.prototype&&r(a)&&i&&i(t,a),t}},"6b6b":function(t,e,n){},"78cc":function(t,e,n){"use strict";var r=n("b10c"),i=n.n(r);i.a},"79f3":function(t,e,n){"use strict";var r=n("490f"),i=n.n(r);i.a},"82ce":function(t,e,n){},8309:function(t,e,n){"use strict";var r=n("0f7c"),i=n.n(r);i.a},"8b97":function(t,e,n){var r=n("d3f4"),i=n("cb7c"),a=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(i){e=!0}return function(t,n){return a(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:a}},"910c":function(t,e,n){},"96cf":function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(t,e,n,r){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),o=new D(r||[]);return a._invoke=P(t,n,o),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}t.wrap=s;var u="suspendedStart",p="suspendedYield",f="executing",d="completed",v={};function h(){}function m(){}function b(){}var g={};g[a]=function(){return this};var y=Object.getPrototypeOf,O=y&&y(y(k([])));O&&O!==n&&r.call(O,a)&&(g=O);var w=b.prototype=h.prototype=Object.create(g);function j(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function E(t,e){function n(i,a,o,c){var s=l(t[i],t,a);if("throw"!==s.type){var u=s.arg,p=u.value;return p&&"object"===typeof p&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,o,c)}),(function(t){n("throw",t,o,c)})):e.resolve(p).then((function(t){u.value=t,o(u)}),(function(t){return n("throw",t,o,c)}))}c(s.arg)}var i;function a(t,r){function a(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(a,a):a()}this._invoke=a}function P(t,e,n){var r=u;return function(i,a){if(r===f)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw a;return I()}n.method=i,n.arg=a;while(1){var o=n.delegate;if(o){var c=x(o,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===u)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var s=l(t,e,n);if("normal"===s.type){if(r=n.done?d:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=d,n.method="throw",n.arg=s.arg)}}}function x(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator["return"]&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function k(t){if(t){var n=t[a];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){while(++i<t.length)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}return{next:I}}function I(){return{value:e,done:!0}}return m.prototype=w.constructor=b,b.constructor=m,b[c]=m.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},j(E.prototype),E.prototype[o]=function(){return this},t.AsyncIterator=E,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new E(s(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},j(w),w[c]="Generator",w[a]=function(){return this},w.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){while(e.length){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=k,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return c.type="throw",c.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:k(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},aa77:function(t,e,n){var r=n("5ca1"),i=n("be13"),a=n("79e5"),o=n("fdef"),c="["+o+"]",s="​",l=RegExp("^"+c+c+"*"),u=RegExp(c+c+"*$"),p=function(t,e,n){var i={},c=a((function(){return!!o[t]()||s[t]()!=s})),l=i[t]=c?e(f):o[t];n&&(i[n]=l),r(r.P+r.F*c,"String",i)},f=p.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};t.exports=p},aae3:function(t,e,n){var r=n("d3f4"),i=n("2d95"),a=n("2b4c")("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==i(t))}},b10c:function(t,e,n){},c5f6:function(t,e,n){"use strict";var r=n("7726"),i=n("69a8"),a=n("2d95"),o=n("5dbc"),c=n("6a99"),s=n("79e5"),l=n("9093").f,u=n("11e9").f,p=n("86cc").f,f=n("aa77").trim,d="Number",v=r[d],h=v,m=v.prototype,b=a(n("2aeb")(m))==d,g="trim"in String.prototype,y=function(t){var e=c(t,!1);if("string"==typeof e&&e.length>2){e=g?e.trim():f(e,3);var n,r,i,a=e.charCodeAt(0);if(43===a||45===a){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===a){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var o,s=e.slice(2),l=0,u=s.length;l<u;l++)if(o=s.charCodeAt(l),o<48||o>i)return NaN;return parseInt(s,r)}}return+e};if(!v(" 0o1")||!v("0b1")||v("+0x1")){v=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof v&&(b?s((function(){m.valueOf.call(n)})):a(n)!=d)?o(new h(y(e)),n,v):y(e)};for(var O,w=n("9e1e")?l(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),j=0;w.length>j;j++)i(h,O=w[j])&&!i(v,O)&&p(v,O,u(h,O));v.prototype=m,m.constructor=v,n("2aba")(r,d,v)}},d2c8:function(t,e,n){var r=n("aae3"),i=n("be13");t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},da29:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"editor-wrapper"},[n("div",{staticClass:"editor-page-edit-wrapper"},["componentLibs"===t.activeSideBar?n("componentLibs"):t._e()],1),n("div",{staticClass:"editor-main"},[n("div",{staticClass:"control-bar-wrapper"},[n("controlBar",{attrs:{scale:t.canvasConfig.scale},on:{"update:scale":function(e){return t.$set(t.canvasConfig,"scale",e)},showPreview:t.showPreviewFn}})],1),n("editorPanel",{attrs:{scale:t.canvasConfig.scale},on:{"update:scale":function(e){return t.$set(t.canvasConfig,"scale",e)}}})],1),n("div",{staticClass:"el-attr-edit-wrapper"},[n("el-tabs",{attrs:{stretch:""},model:{value:t.activeAttr,callback:function(e){t.activeAttr=e},expression:"activeAttr"}},[n("el-tab-pane",{attrs:{label:"属性",name:"属性"}},[n("attrEdit")],1),n("el-tab-pane",{attrs:{label:"事件",name:"事件"}},[n("eventEdit")],1),n("el-tab-pane",{attrs:{label:"JS脚本",name:"脚本"}},[n("scriptEdit")],1)],1)],1),t.showPreview?n("previewPage",{attrs:{pageData:t.projectData,pageId:t.id},on:{closePreview:function(e){t.showPreview=!1}}}):t._e()],1)},i=[];n("8e6e"),n("ac6a"),n("456d"),n("96cf");function a(t,e,n,r,i,a,o){try{var c=t[a](o),s=c.value}catch(l){return void n(l)}c.done?e(s):Promise.resolve(s).then(r,i)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function c(t){a(o,r,i,c,s,"next",t)}function s(t){a(o,r,i,c,s,"throw",t)}c(void 0)}))}}var c=n("ade3"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"components-libs-wrapper"},[n("p",{staticClass:"page-title text-center"},[t._v("组件库")]),n("el-scrollbar",{staticStyle:{height:"100%"}},[n("ul",t._l(t.componentsList,(function(e,r){return n("li",{key:r,staticClass:"clearfix paddingB30"},[n("div",{staticClass:"components-libs-title"},[n("p",[t._v(t._s(e.title))])]),e.components&&e.components.length?n("div",t._l(e.components,(function(e,r){return n("div",{key:r,staticClass:"components-lib-item",on:{click:function(n){return t.handleClick(e)}}},[n("div",{staticClass:"lib-item-img"},[n("i",{class:[e.icon]})]),n("p",{staticClass:"lib-item-title"},[t._v(t._s(e.title))])])})),0):t._e()])})),0)])],1)},l=[],u=(n("6762"),n("2fdb"),n("2ef0")),p=[{title:"基础组件",components:[{elName:"he-text",title:"文字",icon:"iconfont iconwenben",valueType:"",defaultStyle:{height:40}}]}],f=(n("7f7f"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"qk-text"},[t._v("\n    "+t._s(t.text)+"\n")])}),d=[],v={name:"HeText",props:{text:{type:String,default:"这是一段文字"}},data:function(){return{defaultStyle:{height:40}}}},h=v,m=n("2877"),b=Object(m["a"])(h,f,d,!1,null,null,null),g=b.exports;g.install=function(t){t.component(g.name,g)};var y=g,O=[y],w=function t(e){t.installed||(t.installed=!0,O.map((function(t){return e.component(t.name,t)})))};"undefined"!==typeof window&&window.Vue&&w(window.Vue);var j={};function E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(Object(n),!0).forEach((function(e){Object(c["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}O.forEach((function(t){j[t.name]=t})),window._he_register_components_object=j;var x={name:"component-libs",data:function(){return{componentsList:p}},methods:{handleClick:function(t){var e=this.getComponentProps(t.elName);this.$store.dispatch("addElement",P(P({},t),{},{needProps:e}))},getComponentProps:function(t){var e;for(var n in j)if(n.toLowerCase()===Object(u["camelCase"])(t).toLowerCase()){e=j[n];break}if(!e)return{};var r={};for(var i in e.props)r[i]=[Object,Array].includes(e.props[i].type)?e.props[i].default():e.props[i].default;return r}}},_=x,C=(n("ff2b"),Object(m["a"])(_,s,l,!1,null,"90212e1e",null)),D=C.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"editor-pane",on:{click:t.handleClickCanvas,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.handleKeyup(e)}}},[n("div",{staticClass:"editor-pane-inner"},[n("div",{staticClass:"editor-main",style:{transform:"scale("+t.scale+")",width:t.projectData.width+"px",height:t.projectData.height+"px"}},[n("div",{ref:"canvas-panel",staticClass:"page-preview-wrapper",attrs:{id:"canvas-panel"}},t._l(t.activePage.elements,(function(e){return n("edit-shape",{key:e.uuid,style:t.getCommonStyle(e.commonStyle),attrs:{uuid:e.uuid,defaultStyle:e.commonStyle,active:e.uuid===t.activeElementUUID},on:{handleElementClick:function(n){return t.handleElementClick(e.uuid)},resize:t.handleElementResize}},[n(e.elName,t._b({tag:"component",staticClass:"element-on-edit-pane"},"component",Object.assign({},e.propsValue,{value:e.value}),!1))],1)})),1),n("div",{staticClass:"page-wrapper-menu-operation menu-item-on-edit-panel",class:{active:t.activeElementUUID}},t._l(t.menuOptions,(function(e,r){return n("el-tooltip",{key:r,attrs:{effect:"dark",content:e.title,placement:"right"}},[n("div",{staticClass:"menu-item menu-item-on-edit-panel",on:{click:function(n){return t.handleElementCommand(e.value)}}},[n("i",{staticClass:"menu-item-on-edit-panel",class:[e.icon]})])])})),1)])])])},I=[],S=(n("c5f6"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"components-edit-shape",class:{active:this.active},on:{click:t.handleTopWrapperClick,mousedown:t.handleMouseDownOnElement}},[t._l(t.active?t.pointList:[],(function(e){return n("div",{key:e,staticClass:"edit-shape-point",style:t.getPointStyle(e),on:{mousedown:function(n){return t.handleMouseDownOnPoint(e)}}})})),t._t("default")],2)}),L=[];n("28a5");function U(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?U(Object(n),!0).forEach((function(e){Object(c["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var T={name:"EditShape",props:{active:{type:Boolean,default:!1},defaultStyle:{require:!0,type:Object},uuid:String},data:function(){return{pointList:["lt","rt","lb","rb","l","r","t","b"],directionKey:{t:"n",b:"s",l:"w",r:"e"}}},mounted:function(){this.animatePlaying=!1},methods:{getPointStyle:function(t){var e=this,n=this.defaultStyle,r=n.height,i=n.width,a=/t/.test(t),o=/b/.test(t),c=/l/.test(t),s=/r/.test(t),l=0,u=0;2===t.length?(l=c?0:i,u=a?0:r):((a||o)&&(l=i/2,u=a?0:r),(c||s)&&(l=c?0:i,u=r/2));var p={marginLeft:c||s?"-5px":0,marginTop:a||o?"-5px":0,left:"".concat(l,"px"),top:"".concat(u,"px"),cursor:t.split("").reverse().map((function(t){return e.directionKey[t]})).join("")+"-resize"};return p},handleTopWrapperClick:function(t){t.stopPropagation(),t.preventDefault()},handleMouseDownOnElement:function(t){var e=this;this.$emit("handleElementClick");var n=$({},this.defaultStyle),r=t.clientY,i=t.clientX,a=n.top,o=n.left,c="",s="";c=(new Date).getTime();var l=function(t){t.stopPropagation(),t.preventDefault();var c=t.clientX,s=t.clientY;n.top=s-r+a,n.left=c-i+o,e.$emit("resize",n)},u=function t(){s=(new Date).getTime(),s-c>200&&e.$emit("resize"),document.removeEventListener("mousemove",l,!0),document.removeEventListener("mouseup",t,!0)};return document.addEventListener("mousemove",l,!0),document.addEventListener("mouseup",u,!0),!0},handleMouseDownOnPoint:function(t){var e=this,n=event;this.$emit("handleElementClick"),n.stopPropagation(),n.preventDefault();var r=$({},this.defaultStyle),i=r.height,a=r.width,o=r.top,c=r.left,s=n.clientX,l=n.clientY,u=function(n){var u=n.clientX,p=n.clientY,f=p-l,d=u-s,v=/t/.test(t),h=/b/.test(t),m=/l/.test(t),b=/r/.test(t),g=+i+(v?-f:h?f:0),y=+a+(m?-d:b?d:0);r.height=g>0?g:0,r.width=y>0?y:0,r.left=+c+(m?d:0),r.top=+o+(v?f:0),e.$emit("resize",r)},p=function t(){e.$emit("resize"),document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",t)};document.addEventListener("mousemove",u),document.addEventListener("mouseup",p)}}},N=T,A=(n("2625"),Object(m["a"])(N,S,L,!1,null,"5bb72762",null)),V=A.exports,F=n("1336"),z=n("2f62");function R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function G(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?R(Object(n),!0).forEach((function(e){Object(c["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}window._he_register_components_object=j;var B={props:{scale:{type:Number,default:1}},data:function(){return{getCommonStyle:F["a"].getCommonStyle,menuOptions:[{title:"复制",icon:"iconfont iconfuzhi",value:"copy"},{title:"删除",icon:"iconfont iconshanchu",value:"delete"},{title:"字体放大",icon:"iconfont iconzitifangda",value:"fontA+"},{title:"字体缩小",icon:"iconfont iconzitisuoxiao",value:"fontA-"},{title:"字体加粗",icon:"iconfont iconzitijiacu",value:"fontB"}]}},components:G(G({},j),{},Object(c["a"])({},V.name,V)),computed:G(G({},Object(z["d"])({projectData:function(t){return t.editor.projectData},activePageUUID:function(t){return t.editor.activePageUUID},activeElementUUID:function(t){return t.editor.activeElementUUID}})),Object(z["c"])(["currentPageIndex","activeElementIndex","activeElement","activePage"])),methods:{handleElementClick:function(t){this.$store.dispatch("setActiveElementUUID",t)},handleClickCanvas:function(t){t.target.classList.contains("element-on-edit-pane")||t.target.classList.contains("menu-item-on-edit-panel")||this.$store.dispatch("setActiveElementUUID","")},handleElementCommand:function(t){this.$store.dispatch("elementCommand",t)},handleElementResize:function(t){t&&(this.projectData.pages[this.currentPageIndex].elements[this.activeElementIndex].commonStyle.left=t.left,this.projectData.pages[this.currentPageIndex].elements[this.activeElementIndex].commonStyle=G({},t))}}},M=B,Y=(n("e07a"),Object(m["a"])(M,k,I,!1,null,"c664b49c",null)),X=Y.exports,W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-scrollbar",{staticClass:"components-attr-edit"},[t.activeElementUUID?n("div",{staticClass:"attr-edit-inner"},[n("div",{staticClass:"props-attr-style"},[n("propsAttr")],1)]):n("div",[n("p",{staticClass:"gray paddingT30 text-center"},[t._v("请在画板上选择需要编辑得元素")])])])},H=[],q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.currentElementProps.length?n("div",[n("div",{staticClass:"attr-title marginB10 fontBold"},[t._v("组件属性")]),n("el-form",t._l(t.currentElementProps,(function(e){return n("attr-he-"+e,t._b({key:e,tag:"component"},"component",t.activeElement.propsValue,!1,!0))})),1)],1):t._e()},J=[],K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-form-item",{attrs:{label:"文本内容："}},[n("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入文本内容"},model:{value:t.tempText,callback:function(e){t.tempText=e},expression:"tempText"}})],1)},Q=[],Z={name:"attr-he-text",props:{text:String},data:function(){return{tempText:""}},mounted:function(){this.tempText=this.text},watch:{text:function(){this.tempText=this.text},tempText:function(){console.log(1111),this.$emit("update:text",this.tempText)}}},tt=Z,et=Object(m["a"])(tt,K,Q,!1,null,"04d1910b",null),nt=et.exports,rt=Object(c["a"])({},nt.name,nt);function it(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function at(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?it(Object(n),!0).forEach((function(e){Object(c["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ot={components:at({},rt),computed:at(at(at({},Object(z["d"])({projectData:function(t){return t.editor.projectData},activePageUUID:function(t){return t.editor.activePageUUID},activeElementUUID:function(t){return t.editor.activeElementUUID}})),Object(z["c"])(["currentPageIndex","activeElementIndex","activeElement","activePage"])),{},{currentElementProps:function(){if(!this.activeElement.propsValue)return[];var t=Object.keys(this.activeElement.propsValue),e=Object.keys(rt);return t=t.filter((function(t){return e.includes("attr-he-"+t)})),t}})},ct=ot,st=Object(m["a"])(ct,q,J,!1,null,"60dee41e",null),lt=st.exports;function ut(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function pt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ut(Object(n),!0).forEach((function(e){Object(c["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ft={props:{},components:{propsAttr:lt},computed:pt(pt({},Object(z["d"])({projectData:function(t){return t.editor.projectData},activePageUUID:function(t){return t.editor.activePageUUID},activeElementUUID:function(t){return t.editor.activeElementUUID}})),Object(z["c"])(["currentPageIndex","activeElementIndex"]))},dt=ft,vt=(n("edbe"),n("78cc"),Object(m["a"])(dt,W,H,!1,null,"233ee9dc",null)),ht=vt.exports,mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"components-attr-edit"},[n("el-scrollbar",{staticClass:"components-attr-edit"},[t.activeElementUUID?n("div",{staticClass:"attr-edit-inner"},[n("div",{staticClass:"animate-edit-btn-wrapper"},[n("el-dropdown",[n("el-button",{attrs:{type:"primary",size:"small"}},[t._v("\n            添加事件"),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.eventTypeList,(function(e,r){return n("el-dropdown-item",{key:r},[n("div",{on:{click:function(n){return t.addEvent(e.value)}}},[t._v(t._s(e.label))])])})),1)],1),n("p",{staticClass:"gray inline-block fontsize-12 marginL10"},[t._v("事件在编辑模式下无效果")])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.activeElement.events.length,expression:"activeElement.events.length"}],staticClass:"el-animate-list-wrapper paddingT20"},[n("el-collapse",{attrs:{accordion:""}},t._l(t.activeElement.events,(function(e,r){return n("el-collapse-item",{key:r},[n("template",{slot:"title"},[n("span",{staticClass:"el-animate-title-name"},[t._v("事件 "+t._s(r+1))]),n("div",{staticClass:"el-animate-title-type-wrapper"},[n("span",{staticClass:"el-animate-title-type"},[t._v(t._s(t._f("getLabelText")(e.type,t.eventTypeList)))])]),n("span",{staticClass:"el-animate-title-btn",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.deleteEvent(r)}}},[n("i",{staticClass:"el-icon-delete"})])]),n("div",{staticClass:"el-animate-item"},[n("div",{directives:[{name:"show",rawName:"v-show",value:"share"!==e.type,expression:"item.type !== 'share'"}],staticClass:"attr-item-edit-wrapper"},[n("p",{staticClass:"attr-item-title"},[t._v("链接/接口url：")]),n("div",{staticClass:"col-1 attr-item-edit-input"},[n("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入url"},model:{value:e.url,callback:function(n){t.$set(e,"url",n)},expression:"item.url"}})],1)])])],2)})),1)],1)]):n("div",[n("p",{staticClass:"gray paddingT30 text-center"},[t._v("请在画板上选择需要编辑得元素")])])])],1)},bt=[];function gt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function yt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gt(Object(n),!0).forEach((function(e){Object(c["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Ot={name:"event-edit",data:function(){return{eventTypeList:[{label:"链接跳转",value:"link"},{label:"分享",value:"share"},{label:"表单提交",value:"submitForm"}]}},computed:yt(yt({},Object(z["d"])({projectData:function(t){return t.editor.projectData},activePageUUID:function(t){return t.editor.activePageUUID},activeElementUUID:function(t){return t.editor.activeElementUUID}})),Object(z["c"])(["currentPageIndex","activeElementIndex","activeElement","activePage"])),methods:{addEvent:function(t){this.$store.dispatch("addElementEvent",t)},deleteEvent:function(t){this.$store.dispatch("deleteElementEvent",t)}}},wt=Ot,jt=(n("1f9e"),Object(m["a"])(wt,mt,bt,!1,null,"91d80b6c",null)),Et=jt.exports,Pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"components-script-edit"},[n("p",{staticClass:"page-title fontBold"},[t._v("脚本编辑")]),n("p",{staticClass:"gray paddingL10 fontsize-12"},[t._v("js脚本在编辑模式下无效果")]),n("div",{staticClass:"paddingT20"},[n("el-input",{attrs:{type:"textarea",rows:20,placeholder:"请输入代码"},model:{value:t.projectData.script,callback:function(e){t.$set(t.projectData,"script",e)},expression:"projectData.script"}})],1)])},xt=[];function _t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ct(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_t(Object(n),!0).forEach((function(e){Object(c["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Dt={computed:Ct(Ct({},Object(z["d"])({projectData:function(t){return t.editor.projectData},activePageUUID:function(t){return t.editor.activePageUUID},activeElementUUID:function(t){return t.editor.activeElementUUID}})),Object(z["c"])(["currentPageIndex","activeElementIndex","activeElement","activePage"]))},kt=Dt,It=Object(m["a"])(kt,Pt,xt,!1,null,"77dfb324",null),St=It.exports,Lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"components-contrl-bar"},[n("div",{staticClass:"button-item scale-wrappper"},[n("span",{staticClass:"scale-btn",on:{click:function(e){return t.updateScale("reduce")}}},[n("i",{staticClass:"el-icon-zoom-out"})]),n("span",{staticClass:"scale-input"},[t._v(t._s(parseFloat(100*t.scaleValue).toFixed(0))+"%")]),n("span",{staticClass:"scale-btn",on:{click:function(e){return t.updateScale("plus")}}},[n("i",{staticClass:"el-icon-zoom-in"})])]),n("div",{staticClass:"button-item",class:{disabled:!t.canUndo},on:{click:t.editorUndo}},[n("i",{staticClass:"iconfont iconundo1"}),n("p",[t._v("撤销")])]),n("div",{staticClass:"button-item",on:{click:t.showPreview}},[n("i",{staticClass:"iconfont iconyulan"}),n("p",[t._v("预览")])])])},Ut=[];function $t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Tt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$t(Object(n),!0).forEach((function(e){Object(c["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Nt={props:{scale:{type:Number,default:1}},data:function(){return{scaleValue:1}},computed:Tt({},Object(z["c"])(["canUndo"])),created:function(){this.scaleValue=this.scale},methods:Tt(Tt({},Object(z["b"])(["editorUndo"])),{},{updateScale:function(t,e){"plus"===t?this.scaleValue=this.scaleValue+(e||.1)>2?2:this.scaleValue+(e||.1):"reduce"===t?this.scaleValue=this.scaleValue-(e||.1)>.5?this.scaleValue-(e||.1):.5:"reset"===t&&(this.scaleValue=e||1),this.$emit("update:scale",this.scaleValue)},showPreview:function(){this.$emit("showPreview")}})},At=Nt,Vt=(n("f6d5"),Object(m["a"])(At,Lt,Ut,!1,null,"784f36ca",null)),Ft=Vt.exports,zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("previewWrapper",{attrs:{pageId:t.pageId},on:{closePreview:t.closePreview}},[n("p",{staticClass:"page-title paddingL30"},[t._v("页面基础设置")]),n("div",{staticClass:"preview-info-wrapper"},[n("div",{staticClass:"page-info"},[n("div",{staticClass:"page-title-des"},[n("div",{staticClass:"info-form-wrapper"},[n("div",{staticClass:"info-form-l"},[t._v("标题：")]),n("div",{staticClass:"info-form-r"},[n("el-input",{model:{value:t.pageData.title,callback:function(e){t.$set(t.pageData,"title",e)},expression:"pageData.title"}})],1)]),n("div",{staticClass:"info-form-wrapper"},[n("div",{staticClass:"info-form-l"},[t._v("描述：")]),n("div",{staticClass:"info-form-r"},[n("el-input",{attrs:{type:"textarea",rows:2},model:{value:t.pageData.description,callback:function(e){t.$set(t.pageData,"description",e)},expression:"pageData.description"}})],1)])])]),n("div",{staticClass:"foot-btn-wrapper"},[n("el-button",{on:{click:t.closePreview}},[t._v("取 消")])],1)])])},Rt=[],Gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"components-preview"},[n("div",{staticClass:"setting-bg"}),n("div",{staticClass:"left-panel"},[n("div",{staticClass:"iframe-wrapper",style:{width:t.$config.canvasH5Width+"px",height:t.$config.canvasH5Height+"px"}},[n("iframe",{staticStyle:{"background-color":"transparent",width:"100%",height:"100%"},attrs:{src:t.$config.baseURL+"/page/view/"+t.pageId,frameborder:"0"}})])]),n("div",{staticClass:"right-panel"},[t._t("default")],2),n("span",{staticClass:"cloase-btn",on:{click:t.closePreview}},[n("i",{staticClass:"el-icon-close"})])])},Bt=[],Mt={name:"preview-page",props:{pageId:String},data:function(){return{}},created:function(){},methods:{closePreview:function(){this.$emit("closePreview",!1)}}},Yt=Mt,Xt=(n("79f3"),Object(m["a"])(Yt,Gt,Bt,!1,null,"4353483a",null)),Wt=Xt.exports,Ht={components:{previewWrapper:Wt},props:{pageId:String,pageData:{type:Object,require:!0}},data:function(){return{}},methods:{closePreview:function(){this.$emit("closePreview",!1)}}},qt=Ht,Jt=(n("dd28"),Object(m["a"])(qt,zt,Rt,!1,null,"a04523da",null)),Kt=Jt.exports;function Qt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Zt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qt(Object(n),!0).forEach((function(e){Object(c["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var te={components:{componentLibs:D,editorPanel:X,attrEdit:ht,eventEdit:Et,scriptEdit:St,controlBar:Ft,previewPage:Kt},data:function(){return{id:"",activeAttr:"属性",activeSideBar:"componentLibs",showPreview:!1,canvasConfig:{scale:1}}},computed:Zt({},Object(z["d"])({projectData:function(t){return t.editor.projectData}})),created:function(){var t=this;this.$store.dispatch("setPrjectData");var e=F["a"].getProjectConfig();this.$axios.post("/page/add",Zt({},e)).then((function(e){e.body&&(t.id=e.body._id,console.log("页面新建成功"))}))},methods:{showPreviewFn:function(){var t=o(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$axios.post("/page/update/"+this.id,this.projectData).then((function(){e.showPreview=!0}));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},ee=te,ne=(n("8309"),n("e272"),Object(m["a"])(ee,r,i,!1,null,"752d3862",null));e["default"]=ne.exports},dd28:function(t,e,n){"use strict";var r=n("82ce"),i=n.n(r);i.a},e07a:function(t,e,n){"use strict";var r=n("1ea1"),i=n.n(r);i.a},e272:function(t,e,n){"use strict";var r=n("910c"),i=n.n(r);i.a},edbe:function(t,e,n){"use strict";var r=n("3228"),i=n.n(r);i.a},f6d5:function(t,e,n){"use strict";var r=n("0166"),i=n.n(r);i.a},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},ff2b:function(t,e,n){"use strict";var r=n("336d"),i=n.n(r);i.a}}]);